<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Delta Security Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#1e2a45] text-white font-sans min-h-screen">
  <!-- Header Banner -->
  <header class="bg-[#1e2a45] shadow-lg py-6 flex items-center justify-center">
    <img src="delta_bot_banner_V1.jpg" alt="Delta Security Banner" class="h-28 object-contain" />
  </header>

  <!-- Main Dashboard Section -->
  <main class="max-w-4xl mx-auto mt-10 px-6">
    <h1 class="text-3xl font-bold mb-6 text-center">Feature Toggle Panel</h1>
    
    <div class="grid md:grid-cols-2 gap-6">
      <!-- Example Toggle Card -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Anti-Nuke</h2>
          <p class="text-sm text-gray-300">Blocks mass channel/role deletions</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="anti_nuke">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>

      <!-- Repeat the card for more features -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Anti-Raid</h2>
          <p class="text-sm text-gray-300">Automatically quarantines suspected raid members</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="anti_raid">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
            <!-- Repeat the card for more features -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Filter System</h2>
          <p class="text-sm text-gray-300">Blocks slurs and filtered keywords from chat</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="filter_system">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                  <!-- Repeat the card for more features -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Role Protection</h2>
          <p class="text-sm text-gray-300">Prevents dangerous permissions from being added to roles</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="role_protection">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                        <!-- Repeat the card for more features -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Permission Preventer</h2>
          <p class="text-sm text-gray-300">Prevents high-level permissions from being granted to memb</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="dangerous_permission_preventer">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                              <!-- Repeat the card for more features -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Webhook Deleter</h2>
          <p class="text-sm text-gray-300">Automatically deletes unauthorized webhooks</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="webhook_deleter">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                                    <!-- Repeat the card for more features -->
      <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold">Revenge on Bot Remover</h2>
          <p class="text-sm text-gray-300">Punishes anyone who removes the bot from a server</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="revenge_on_bot_remover">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>


      <!-- Add more toggles here similarly -->
    </div>

    <!-- Footer with Logo -->
    <footer class="mt-16 text-center">
      <img src="logo.png" alt="Delta Logo" class="mx-auto h-20" />
      <p class="mt-4 text-sm text-gray-400">© 2025 Delta Security</p>
    </footer>
  </main>

<script>
document.querySelectorAll("input[type=checkbox]").forEach(toggle => {
  toggle.addEventListener("change", () => {
    fetch("/toggle", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        feature: toggle.id.replace("Toggle", "").toLowerCase(),
        value: toggle.checked
      })
    });
  });
});

const toggles = document.querySelectorAll('input[type="checkbox"]');
  const saveBtn = document.getElementById('saveButton');
  let settings = {};

  // Load initial states
  toggles.forEach(toggle => {
    const id = toggle.id.replace('Toggle', '');
    settings[id] = toggle.checked;
    toggle.addEventListener('change', () => {
      settings[id] = toggle.checked;
    });
  });

  saveBtn.addEventListener('click', () => {
    fetch('/save', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(settings)
    })
    .then(res => res.json())
    .then(data => {
      alert("✅ Settings saved!");
    })
    .catch(err => {
      alert("❌ Failed to save settings.");
    });
  });

<div class="text-center mt-10">
  <button id="saveButton" class="bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-6 rounded-full shadow-lg transition">
    Save Changes
  </button>
</div>

</script>

</body>
</html>
