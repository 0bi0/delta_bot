<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Delta Security Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#1e2a45] text-white font-sans min-h-screen">

  <!-- Header Banner -->
  <header class="bg-[#1e2a45] shadow-lg py-6 flex items-center justify-center">
    <img src="delta_bot_banner_V1.jpg" alt="Delta Security Banner" class="h-28 object-contain" />
  </header>

  <!-- Main Dashboard Section -->
  <main class="max-w-5xl mx-auto mt-10 px-6">
    <h1 class="text-4xl font-bold mb-10 text-center text-yellow-400 drop-shadow-md">Feature Toggle Panel</h1>
    
    <div class="grid md:grid-cols-2 gap-8">
      <!-- Cards -->
      <!-- For brevity, only one card is shown here as example. Include the rest as-is from your original code. -->
      
      <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Anti-Nuke</h2>
          <p class="text-sm text-gray-300">Blocks mass channel/role deletions</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="antiNukeToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>

      
            <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Anti-Raid</h2>
          <p class="text-sm text-gray-300">Automatically quarantines suspected raid members</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="antiRaidToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                  <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Filter System</h2>
          <p class="text-sm text-gray-300">Blocks slurs and filtered keywords from chat</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="filterSystemToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                        <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Webhook Deleter</h2>
          <p class="text-sm text-gray-300">Automatically deletes unauthorized webhooks</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="webhookDeleterToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                              <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Role Protection</h2>
          <p class="text-sm text-gray-300">Prevents dangerous permissions from being added to roles</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="roleProtectionToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                                    <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Permission Preventer</h2>
          <p class="text-sm text-gray-300">Prevents high-level permissions from being granted to members</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="permissionPreventerToggle">

          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>
      
                                          <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Revenge on Bot Remover</h2>
          <p class="text-sm text-gray-300">Punishes anyone who removes the bot from a server</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="revengeOnBotRemoverToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>
      </div>

                                          <div class="bg-[#2d3c5a] rounded-2xl shadow-xl p-6 flex items-center justify-between hover:scale-[1.01] transition">
        <div>
          <h2 class="text-xl font-semibold text-yellow-300">Lockdown Mode</h2>
          <p class="text-sm text-gray-300">Enables strict rate limits and protection during raids</p>
        </div>
        <label class="inline-flex items-center cursor-pointer">
          <input type="checkbox" class="sr-only peer" id="lockdownToggle">
          <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-500 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
        </label>

    </div>

    <!-- Save Button -->
    <div class="flex justify-center mt-12">
      <button id="saveButton" class="bg-yellow-400 hover:bg-yellow-300 text-black font-semibold py-2 px-6 rounded-xl shadow-lg transition">
        üíæ Save Settings
      </button>
    </div>

    <!-- Footer with Logo -->
    <footer class="mt-20 text-center">
      <img src="logo.png" alt="Delta Logo" class="mx-auto h-20 drop-shadow-lg" />
      <p class="mt-4 text-sm text-gray-400">¬© 2025 Delta Security</p>
    </footer>

    <!-- Save Script -->
<script>
  const settings = {{ settings | tojson }};

  window.onload = () => {
    // Initialize checkboxes
    Object.entries(settings).forEach(([id, val]) => {
      const cb = document.getElementById(id);
      if (cb) cb.checked = val;
    });

    document.getElementById("saveButton").addEventListener("click", () => {
      const toggles = document.querySelectorAll("input[type='checkbox']");
      const newSettings = {};
      toggles.forEach(t => newSettings[t.id] = t.checked);

      fetch("/save", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(newSettings)
      })
      .then(res => res.json())
      .then(data => {
        if (data.success) alert("‚úÖ Settings saved!");
        else alert("‚ùå Error saving settings.");
      })
      .catch(err => {
        alert("‚ùå Save failed.");
        console.error(err);
      });
    });
  };
</script>


  </main>
</body>
</html>
