<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bot Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(to bottom, #0f172a, #1e293b);
        color: #fff;
      }
      .glass {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
    </style>
  </head>
  <body class="min-h-screen flex items-center justify-center p-6">
    <div class="w-full max-w-5xl">
      <header class="mb-10 text-center">
        <img src="/static/banner.jpg" alt="Banner" class="w-full rounded-xl shadow-xl mb-6" />
        <h1 class="text-4xl font-extrabold text-yellow-400 drop-shadow-md">Discord Bot Dashboard</h1>
        <p class="text-gray-300 mt-2">Manage all modules of your bot in one place.</p>
      </header>

      <div class="grid md:grid-cols-2 gap-6">
        <!-- Feature Cards -->
        {% for key, label, desc in [
          ('webhook_deleter', 'Webhook Deleter', 'Automatically deletes unauthorized webhooks'),
          ('filter_system', 'Filter System', 'Blocks inappropriate or blacklisted words'),
          ('anti_nuke', 'Anti-Nuke', 'Protects server from destructive bot attacks'),
          ('anti_raid', 'Anti-Raid', 'Detects and blocks mass-join attempts'),
          ('role_protection', 'Role Protection', 'Prevents sensitive role changes'),
          ('dangerous_permission_preventer', 'Permission Monitor', 'Stops dangerous permissions being granted'),
          ('revenge_on_bot_remover', 'Bot Remover Revenge', 'Punishes those who remove the bot')
        ] %}
        <div class="bg-[#2d3c5a] rounded-2xl shadow-lg p-5 flex items-center justify-between">
          <div>
            <h2 class="text-xl font-semibold">{{ label }}</h2>
            <p class="text-sm text-gray-300">{{ desc }}</p>
          </div>
          <label class="inline-flex items-center cursor-pointer">
            <input type="checkbox" class="sr-only peer" id="{{ key }}" {% if settings[key] %}checked{% endif %}>
            <div class="w-11 h-6 bg-gray-500 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:bg-yellow-400 transition-all duration-300"></div>
          </label>
        </div>
        {% endfor %}
      </div>

      <!-- Save Button -->
      <div class="text-center mt-10">
        <button id="saveButton" class="bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-6 rounded-full shadow-lg transition">
          Save Changes
        </button>
      </div>

      <footer class="mt-12 text-center text-sm text-gray-500">
        <p>Â© 2025 Powered by 0bi0 & GPT. All rights reserved.</p>
        <img src="/static/footer.png" alt="Footer Art" class="mx-auto mt-4 w-48 opacity-40" />
      </footer>
    </div>

    <script>
      document.getElementById("saveButton").addEventListener("click", () => {
        const toggles = Array.from(document.querySelectorAll("input[type='checkbox']"));
        const settings = {};
        toggles.forEach(toggle => {
          settings[toggle.id] = toggle.checked;
        });

        fetch("/save", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(settings)
        })
        .then(response => response.json())
        .then(data => {
          alert("Settings saved successfully!");
        })
        .catch(error => {
          alert("An error occurred while saving.");
          console.error(error);
        });
      });
    </script>
  </body>
</html>
